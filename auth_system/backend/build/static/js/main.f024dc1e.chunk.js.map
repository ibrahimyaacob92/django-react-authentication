{"version":3,"sources":["actions/types.js","reducers/auth.js","reducers/index.js","store.js","containers/Activate.js","containers/Home.js","containers/Login.js","actions/auth.js","containers/ResetPassword.js","containers/ResetPasswordConfirm.js","containers/Signup.js","components/Navbar.js","hocs/Layout.js","App.js","index.js"],"names":["LOGIN_SUCCESS","LOGIN_FAIL","LOAD_USER_SUCCESS","LOAD_USER_FAIL","initialState","access","localStorage","getItem","refresh","isAuthenticated","user","combineReducers","auth","state","action","type","payload","setItem","removeItem","middleware","thunk","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","Activate","Home","connect","login","email","password","dispatch","a","config","headers","body","JSON","stringify","axios","post","process","res","data","get","useState","formData","setFormData","onChange","e","target","name","value","className","onSubmit","preventDefault","placeholder","required","minLength","to","ResetPassword","ResetPasswordConfirm","Signup","Navbar","Layout","children","App","exact","path","component","Login","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f024dc1e.chunk.js","sourcesContent":["export const LOGIN_SUCCESS = 'LOGIN_SUCCESS'\r\nexport const LOGIN_FAIL = 'LOGIN_FAIL'\r\nexport const LOAD_USER_SUCCESS = 'LOAD_USER_SUCCESS'\r\nexport const LOAD_USER_FAIL = 'LOAD_USER_FAIL'","import {\r\n    LOGIN_SUCCESS,\r\n    LOGIN_FAIL,\r\n    LOAD_USER_FAIL,\r\n    LOAD_USER_SUCCESS\r\n} from '../actions/types'\r\n\r\nconst initialState = {\r\n    access: localStorage.getItem('access'),\r\n    refresh: localStorage.getItem('refresh'),\r\n    isAuthenticated:null,\r\n    user:null\r\n}\r\n\r\nexport default function(state=initialState, action){\r\n    const {type, payload} = action\r\n    switch(type){\r\n        case LOGIN_SUCCESS:\r\n            localStorage.setItem('access', payload.access)\r\n            return{\r\n                ...state,\r\n                isAuthenticated:true,\r\n                access:payload.access,\r\n                refresh:payload.refresh   \r\n            }\r\n        case LOAD_USER_SUCCESS:\r\n            return{\r\n                ...state,\r\n                user:payload\r\n            }\r\n\r\n        case LOAD_USER_FAIL:\r\n            return{\r\n                ...state,\r\n                user:null\r\n            }\r\n\r\n        case LOGIN_FAIL:\r\n            localStorage.removeItem('access')\r\n            localStorage.removeItem('refresh')\r\n            return{\r\n                ...state,\r\n                isAuthenticated:false,\r\n                access:null,\r\n                refresh:null\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}","import { combineReducers} from 'redux'\r\nimport auth from './auth'\r\n\r\nexport default combineReducers({\r\n    auth\r\n})","import {createStore, applyMiddleware} from 'redux'\r\nimport {composeWithDevTools} from 'redux-devtools-extension'\r\nimport thunk from 'redux-thunk'\r\nimport rootReducer from './reducers'\r\n\r\nconst initalState = {}\r\n\r\nconst middleware = [thunk];\r\n\r\nconst store = createStore(\r\n    rootReducer,\r\n    initalState,\r\n    composeWithDevTools(applyMiddleware(...middleware))\r\n)\r\n\r\nexport default store","import React from 'react'\r\n\r\nconst Activate = () => {\r\n    return (\r\n        <div>\r\n            Activate\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Activate\r\n","import React from 'react'\r\n\r\nconst Home = () => {\r\n    return (\r\n        <div>\r\n            Home\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","import React, {useState} from 'react'\r\nimport {Link, Redirect} from 'react-router-dom'\r\nimport {connect} from 'react-redux'\r\nimport {login} from '../actions/auth'\r\n\r\nconst Login = ({login}) => {\r\n    const [formData, setFormData] = useState({\r\n        email:'',\r\n        password:''\r\n    })\r\n    const {email, password} = formData\r\n    const onChange = e => setFormData({...formData, [e.target.name]: e.target.value})\r\n    const onSubmit = e => {\r\n        e.preventDefault()\r\n        login(email, password)\r\n    }\r\n\r\n    // Is user uthenticated ?\r\n    // Redirect to homepage\r\n    \r\n    return (\r\n        <div className='container mt-5'>\r\n            <h1>Sign In</h1>\r\n            <p>Sign into your Account</p>\r\n            <form onSubmit={e=>onSubmit(e)}>\r\n                <div className='form-group'>\r\n                    <input \r\n                        className='form-control' \r\n                        type='email' \r\n                        placeholder='email'\r\n                        name='email'\r\n                        value={email}\r\n                        onChange={e => onChange(e)}\r\n                        required\r\n                    />\r\n                </div>\r\n                <div className='form-group'>\r\n                    <input \r\n                        className='form-control' \r\n                        type='password' \r\n                        placeholder='password'\r\n                        name='password'\r\n                        value={password}\r\n                        minLength='6'\r\n                        onChange={e => onChange(e)}\r\n                        required\r\n                    />\r\n                </div>\r\n                <button className='btn btn-primary' type='submit'>Login</button>\r\n            </form>\r\n            <p className='mt-3'>\r\n                Don't have an account ? <Link to='/signup'>Sign Up</Link>\r\n            </p>\r\n            <p className='mt-3'>\r\n                Forgot your password ? <Link to='/reset-password'>Reset Password</Link>\r\n            </p>\r\n        </div>\r\n    )\r\n}\r\n\r\n// const mapStateToProps = state => ({\r\n//     // is authenticated\r\n// })\r\n\r\n\r\nexport default connect(null, { login})(Login)\r\n","import axios from 'axios'\r\nimport {\r\n    LOGIN_SUCCESS,\r\n    LOGIN_FAIL,\r\n    LOAD_USER_FAIL,\r\n    LOAD_USER_SUCCESS\r\n} from './types'\r\n\r\n\r\nexport const load_user = () => async dispatch => {\r\n    if (localStorage.getItem('access')){\r\n        const config = {\r\n            headers:{\r\n                'Content-Type':'application/json',\r\n                'Authorization':`JWT ${localStorage.getItem('access')}`,\r\n                'Accept':'application/json'\r\n            }\r\n        }\r\n        try{\r\n            const res = await axios.get(\r\n                `${process.env.REACT_APP_API_URL}/auth/users/me/`,\r\n                config\r\n            )\r\n            dispatch({\r\n                type:LOAD_USER_SUCCESS,\r\n                payload:res.data\r\n            })\r\n            \r\n        }catch(err){\r\n            dispatch({\r\n                type: LOAD_USER_FAIL\r\n            })\r\n        }   \r\n    }else{\r\n        dispatch({\r\n            type: LOAD_USER_FAIL\r\n        })     \r\n    }\r\n}\r\n\r\nexport const login = (email, password) => async dispatch => {\r\n    const config = {\r\n        headers:{\r\n            'Content-Type':'application/json'\r\n        }\r\n    }\r\n    const body = JSON.stringify({email, password})\r\n\r\n    try{\r\n        const res = await axios.post(\r\n            `${process.env.REACT_APP_API_URL}/auth/jwt/create/`,\r\n            body,\r\n            config\r\n        )\r\n        dispatch({\r\n            type:LOGIN_SUCCESS,\r\n            payload:res.data\r\n        })\r\n        dispatch(load_user())\r\n        \r\n    }catch(err){\r\n        dispatch({\r\n            type: LOGIN_FAIL\r\n        })\r\n    }\r\n}\r\n","import React from 'react'\r\n\r\nconst ResetPassword = () => {\r\n    return (\r\n        <div>\r\n            Reset Passweord\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ResetPassword\r\n","import React from 'react'\r\n\r\nconst ResetPasswordConfirm = () => {\r\n    return (\r\n        <div>\r\n            Reset OPasswdrd confifrm\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ResetPasswordConfirm\r\n","import React from 'react'\r\n\r\nconst Signup = () => {\r\n    return (\r\n        <div>\r\n                singup\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Signup\r\n","import React from 'react'\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <div>\r\n            navbar\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Navbar\r\n","import React from 'react'\r\nimport Navbar from '../components/Navbar'\r\n\r\nconst Layout = ({children}) => {\r\n    return (\r\n        <div>\r\n            <Navbar/>\r\n            {children}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Layout\r\n","import React from 'react'\nimport {BrowserRouter as Router, Route, Switch} from 'react-router-dom'\nimport {Provider} from 'react-redux'\nimport store from './store'\n\nimport Activate from './containers/Activate';\nimport Home from './containers/Home';\nimport Login from './containers/Login';\nimport ResetPassword from './containers/ResetPassword';\nimport ResetPasswordConfirm from './containers/ResetPasswordConfirm';\nimport Signup from './containers/Signup';\nimport Layout from './hocs/Layout';\n\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <Router>\n        <Layout>\n          <Switch>\n            <Route exact path='/' component={Home}/>\n            <Route exact path='/login' component={Login}/>\n            <Route exact path='/reset-password' component={ResetPassword}/>\n            <Route exact path='/password/reset/confirm/:uid/:token' component={ResetPasswordConfirm}/>\n            <Route exact path='/activate/:uid/:token' component={Activate}/>\n            <Route exact path='/signup' component={Signup}/>\n          </Switch>\n        </Layout>\n      </Router>\n    </Provider>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}